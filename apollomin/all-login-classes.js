var Ext = Ext || {};
if (!Ext.Direct) {
    Ext.Direct = {}
}
if (!Ext.Toolbar) {
    Ext.Toolbar = {}
}
if (!Ext.app) {
    Ext.app = {}
}
if (!Ext.app.domain) {
    Ext.app.domain = {}
}
if (!Ext.button) {
    Ext.button = {}
}
if (!Ext.chart) {
    Ext.chart = {}
}
if (!Ext.chart.axis) {
    Ext.chart.axis = {}
}
if (!Ext.chart.series) {
    Ext.chart.series = {}
}
if (!Ext.chart.theme) {
    Ext.chart.theme = {}
}
if (!Ext.container) {
    Ext.container = {}
}
if (!Ext.core) {
    Ext.core = {}
}
if (!Ext.data) {
    Ext.data = {}
}
if (!Ext.data.association) {
    Ext.data.association = {}
}
if (!Ext.data.flash) {
    Ext.data.flash = {}
}
if (!Ext.data.proxy) {
    Ext.data.proxy = {}
}
if (!Ext.data.reader) {
    Ext.data.reader = {}
}
if (!Ext.data.writer) {
    Ext.data.writer = {}
}
if (!Ext.dd) {
    Ext.dd = {}
}
if (!Ext.diag) {
    Ext.diag = {}
}
if (!Ext.diag.layout) {
    Ext.diag.layout = {}
}
if (!Ext.direct) {
    Ext.direct = {}
}
if (!Ext.dom) {
    Ext.dom = {}
}
if (!Ext.draw) {
    Ext.draw = {}
}
if (!Ext.draw.engine) {
    Ext.draw.engine = {}
}
if (!Ext.flash) {
    Ext.flash = {}
}
if (!Ext.form) {
    Ext.form = {}
}
if (!Ext.form.Action) {
    Ext.form.Action = {}
}
if (!Ext.form.action) {
    Ext.form.action = {}
}
if (!Ext.form.field) {
    Ext.form.field = {}
}
if (!Ext.fx) {
    Ext.fx = {}
}
if (!Ext.fx.target) {
    Ext.fx.target = {}
}
if (!Ext.grid) {
    Ext.grid = {}
}
if (!Ext.grid.column) {
    Ext.grid.column = {}
}
if (!Ext.grid.feature) {
    Ext.grid.feature = {}
}
if (!Ext.grid.header) {
    Ext.grid.header = {}
}
if (!Ext.grid.locking) {
    Ext.grid.locking = {}
}
if (!Ext.grid.plugin) {
    Ext.grid.plugin = {}
}
if (!Ext.grid.property) {
    Ext.grid.property = {}
}
if (!Ext.layout) {
    Ext.layout = {}
}
if (!Ext.layout.boxOverflow) {
    Ext.layout.boxOverflow = {}
}
if (!Ext.layout.component) {
    Ext.layout.component = {}
}
if (!Ext.layout.component.field) {
    Ext.layout.component.field = {}
}
if (!Ext.layout.container) {
    Ext.layout.container = {}
}
if (!Ext.layout.container.border) {
    Ext.layout.container.border = {}
}
if (!Ext.layout.container.boxOverflow) {
    Ext.layout.container.boxOverflow = {}
}
if (!Ext.list) {
    Ext.list = {}
}
if (!Ext.locale) {
    Ext.locale = {}
}
if (!Ext.locale.de) {
    Ext.locale.de = {}
}
if (!Ext.locale.de.form) {
    Ext.locale.de.form = {}
}
if (!Ext.locale.de.form.field) {
    Ext.locale.de.form.field = {}
}
if (!Ext.locale.de.grid) {
    Ext.locale.de.grid = {}
}
if (!Ext.locale.de.grid.header) {
    Ext.locale.de.grid.header = {}
}
if (!Ext.locale.de.grid.plugin) {
    Ext.locale.de.grid.plugin = {}
}
if (!Ext.locale.de.picker) {
    Ext.locale.de.picker = {}
}
if (!Ext.locale.de.tab) {
    Ext.locale.de.tab = {}
}
if (!Ext.locale.de.toolbar) {
    Ext.locale.de.toolbar = {}
}
if (!Ext.locale.de.view) {
    Ext.locale.de.view = {}
}
if (!Ext.locale.de.window) {
    Ext.locale.de.window = {}
}
if (!Ext.menu) {
    Ext.menu = {}
}
if (!Ext.panel) {
    Ext.panel = {}
}
if (!Ext.perf) {
    Ext.perf = {}
}
if (!Ext.picker) {
    Ext.picker = {}
}
if (!Ext.resizer) {
    Ext.resizer = {}
}
if (!Ext.rtl) {
    Ext.rtl = {}
}
if (!Ext.rtl.button) {
    Ext.rtl.button = {}
}
if (!Ext.rtl.dd) {
    Ext.rtl.dd = {}
}
if (!Ext.rtl.dom) {
    Ext.rtl.dom = {}
}
if (!Ext.rtl.form) {
    Ext.rtl.form = {}
}
if (!Ext.rtl.form.field) {
    Ext.rtl.form.field = {}
}
if (!Ext.rtl.grid) {
    Ext.rtl.grid = {}
}
if (!Ext.rtl.grid.column) {
    Ext.rtl.grid.column = {}
}
if (!Ext.rtl.grid.plugin) {
    Ext.rtl.grid.plugin = {}
}
if (!Ext.rtl.layout) {
    Ext.rtl.layout = {}
}
if (!Ext.rtl.layout.component) {
    Ext.rtl.layout.component = {}
}
if (!Ext.rtl.layout.component.field) {
    Ext.rtl.layout.component.field = {}
}
if (!Ext.rtl.layout.container) {
    Ext.rtl.layout.container = {}
}
if (!Ext.rtl.layout.container.boxOverflow) {
    Ext.rtl.layout.container.boxOverflow = {}
}
if (!Ext.rtl.panel) {
    Ext.rtl.panel = {}
}
if (!Ext.rtl.resizer) {
    Ext.rtl.resizer = {}
}
if (!Ext.rtl.selection) {
    Ext.rtl.selection = {}
}
if (!Ext.rtl.slider) {
    Ext.rtl.slider = {}
}
if (!Ext.rtl.tab) {
    Ext.rtl.tab = {}
}
if (!Ext.rtl.tip) {
    Ext.rtl.tip = {}
}
if (!Ext.rtl.tree) {
    Ext.rtl.tree = {}
}
if (!Ext.rtl.util) {
    Ext.rtl.util = {}
}
if (!Ext.rtl.view) {
    Ext.rtl.view = {}
}
if (!Ext.selection) {
    Ext.selection = {}
}
if (!Ext.slider) {
    Ext.slider = {}
}
if (!Ext.state) {
    Ext.state = {}
}
if (!Ext.tab) {
    Ext.tab = {}
}
if (!Ext.tip) {
    Ext.tip = {}
}
if (!Ext.toolbar) {
    Ext.toolbar = {}
}
if (!Ext.tree) {
    Ext.tree = {}
}
if (!Ext.tree.plugin) {
    Ext.tree.plugin = {}
}
if (!Ext.util) {
    Ext.util = {}
}
if (!Ext.ux) {
    Ext.ux = {}
}
if (!Ext.ux.DataView) {
    Ext.ux.DataView = {}
}
if (!Ext.ux.ajax) {
    Ext.ux.ajax = {}
}
if (!Ext.ux.data) {
    Ext.ux.data = {}
}
if (!Ext.ux.dd) {
    Ext.ux.dd = {}
}
if (!Ext.ux.event) {
    Ext.ux.event = {}
}
if (!Ext.ux.form) {
    Ext.ux.form = {}
}
if (!Ext.ux.form.field) {
    Ext.ux.form.field = {}
}
if (!Ext.ux.grid) {
    Ext.ux.grid = {}
}
if (!Ext.ux.grid.filter) {
    Ext.ux.grid.filter = {}
}
if (!Ext.ux.grid.menu) {
    Ext.ux.grid.menu = {}
}
if (!Ext.ux.layout) {
    Ext.ux.layout = {}
}
if (!Ext.ux.statusbar) {
    Ext.ux.statusbar = {}
}
if (!Ext.ux.upload) {
    Ext.ux.upload = {}
}
if (!Ext.ux.upload.data) {
    Ext.ux.upload.data = {}
}
if (!Ext.ux.upload.uploader) {
    Ext.ux.upload.uploader = {}
}
if (!Ext.view) {
    Ext.view = {}
}
if (!Ext.window) {
    Ext.window = {}
}
var ExtThemeNeptune = ExtThemeNeptune || {};
if (!ExtThemeNeptune.container) {
    ExtThemeNeptune.container = {}
}
if (!ExtThemeNeptune.form) {
    ExtThemeNeptune.form = {}
}
if (!ExtThemeNeptune.form.field) {
    ExtThemeNeptune.form.field = {}
}
if (!ExtThemeNeptune.grid) {
    ExtThemeNeptune.grid = {}
}
if (!ExtThemeNeptune.grid.column) {
    ExtThemeNeptune.grid.column = {}
}
if (!ExtThemeNeptune.layout) {
    ExtThemeNeptune.layout = {}
}
if (!ExtThemeNeptune.layout.component) {
    ExtThemeNeptune.layout.component = {}
}
if (!ExtThemeNeptune.menu) {
    ExtThemeNeptune.menu = {}
}
if (!ExtThemeNeptune.panel) {
    ExtThemeNeptune.panel = {}
}
if (!ExtThemeNeptune.picker) {
    ExtThemeNeptune.picker = {}
}
if (!ExtThemeNeptune.resizer) {
    ExtThemeNeptune.resizer = {}
}
if (!ExtThemeNeptune.tab) {
    ExtThemeNeptune.tab = {}
}
if (!ExtThemeNeptune.toolbar) {
    ExtThemeNeptune.toolbar = {}
}
var am = am || {};
if (!am.controller) {
    am.controller = {}
}
if (!am.model) {
    am.model = {}
}
if (!am.proxy) {
    am.proxy = {}
}
if (!am.store) {
    am.store = {}
}
if (!am.view) {
    am.view = {}
}
if (!am.view.component) {
    am.view.component = {}
}
if (!am.view.window) {
    am.view.window = {}
}
(function(h) {
    var j    = [], k = ["constructor", "toString", "valueOf", "toLocaleString"], i = {}, n = {}, b = 0, g, c, m, f, a = function() {
        var p, o;
        c = Ext.Base;
        m = Ext.ClassManager;
        for (p = k.length; p-- > 0;) {
            o              = (1 << p);
            n[i[o] = k[p]] = o
        }
        for (p in n) {
            b |= n[p]
        }
        b                              = ~b;
        Function.prototype.$isFunction = 1;
        f                              = Ext.Class.getPreprocessor("config").fn;
        for (g in c) {
            if (c.hasOwnProperty(g)) {
                j.push(g)
            }
        }
        h.derive = d;
        return d.apply(this, arguments)
    }, e     = function(w, s, v) {
        var p = v.enumerableMembers, t = w.prototype, r, u, q, o;
        if (!s) {
            return
        }
        for (r in s) {
            o = s[r];
            if (o && o.$isFunction && !o.$isClass && o !== Ext.emptyFn && o !== Ext.identityFn) {
                t[r] = u = o;
                u.$owner = w;
                u.$name  = r
            } else {
                t[r] = o
            }
        }
        for (q = 1; p; q <<= 1) {
            if (p & q) {
                p &= ~q;
                r    = i[q];
                t[r] = u = s[r];
                u.$owner = w;
                u.$name  = r
            }
        }
    }, l     = function(s) {
        var o       = function r() {
            return s.apply(this, arguments) || null
        }, q, p;
        o.prototype = Ext.Object.chain(s.prototype);
        for (q = j.length; q-- > 0;) {
            p    = j[q];
            o[p] = c[p]
        }
        return o
    }, d     = function(t, w, P, o, v, D, u, M, r, F, z) {
        var p = function y() {
            return this.constructor.apply(this, arguments) || null
        }, O  = p, q = {enumerableMembers: o & b, onCreated: z, onBeforeCreated: e, aliases: M}, C = P.alternateClassName || [], K = Ext.global, G, J, L, B, I, S, R, s, H, x, N, E, A, Q;
        for (L = j.length; L-- > 0;) {
            R    = j[L];
            p[R] = c[R]
        }
        if (P.$isFunction) {
            P = P(p)
        }
        q.data = P;
        x = P.statics, P.$className = t;
        if (P.$className) {
            p.$className = P.$className
        }
        p.extend(w);
        H       = p.prototype;
        p.xtype = P.xtype = v[0];
        if (v) {
            H.xtypes = v
        }
        H.xtypesChain = D;
        H.xtypesMap   = u;
        P.alias       = M;
        O.triggerExtended(p, P, q);
        if (P.onClassExtended) {
            p.onExtended(P.onClassExtended, p);
            delete P.onClassExtended
        }
        if (x) {
            for (N in x) {
                if (x.hasOwnProperty(N)) {
                    Q = x[N];
                    if (Q && Q.$isFunction && !Q.$isClass && Q !== Ext.emptyFn && Q !== Ext.identityFn) {
                        p[N] = A = Q;
                        A.$owner = p;
                        A.$name  = N
                    }
                    p[N] = Q
                }
            }
        }
        delete P.statics;
        if (P.inheritableStatics) {
            p.addInheritableStatics(P.inheritableStatics)
        }
        if (H.onClassExtended) {
            O.onExtended(H.onClassExtended, O);
            delete H.onClassExtended
        }
        if (P.config) {
            f(p, P)
        }
        q.onBeforeCreated(p, q.data, q);
        for (L = 0, I = r && r.length; L < I; ++L) {
            p.mixin.apply(p, r[L])
        }
        for (L = 0, I = M.length; L < I; L++) {
            G = M[L];
            m.setAlias(p, G)
        }
        if (P.singleton) {
            O = new p()
        }
        if (!(C instanceof Array)) {
            C = [C]
        }
        for (L = 0, B = C.length; L < B; L++) {
            J            = C[L];
            m.classes[J] = O;
            E            = m.getName(O);
            s            = m.maps.nameToAlternates;
            if (E && E !== J) {
                m.maps.alternateToName[J] = E;
                C                         = s[E] || (s[E] = []);
                C.push(J)
            }
        }
        for (L = 0, I = F.length; L < I; L += 2) {
            S = F[L];
            if (!S) {
                S = K
            }
            S[F[L + 1]] = O
        }
        m.classes[t] = O;
        E            = m.getName(O);
        s            = m.maps.nameToAlternates;
        if (E && E !== t) {
            m.maps.alternateToName[t] = E;
            C                         = s[E] || (s[E] = []);
            C.push(t)
        }
        delete H.alternateClassName;
        if (q.onCreated) {
            q.onCreated.call(O, O)
        }
        if (t) {
            m.triggerCreated(t)
        }
        return O
    };
    h.derive = a
}(Ext.cmd = {}));
Ext.define("Ext.form.Label", {
    extend    : "Ext.Component", alias: "widget.label", requires: ["Ext.util.Format"], autoEl: "label", maskOnDisable: false, getElConfig: function() {
        var a  = this;
        a.html = a.text ? Ext.util.Format.htmlEncode(a.text) : (a.html || "");
        return Ext.apply(a.callParent(), {htmlFor: a.forId || ""})
    }, setText: function(c, b) {
        var a = this;
        b     = b !== false;
        if (b) {
            a.text = c;
            delete a.html
        } else {
            a.html = c;
            delete a.text
        }
        if (a.rendered) {
            a.el.dom.innerHTML = b !== false ? Ext.util.Format.htmlEncode(c) : c;
            a.updateLayout()
        }
        return a
    }
});
Ext.define("Ext.util.Cookies", {
    singleton      : true, set: function(c, e) {
        var a           = arguments, h = arguments.length, b = (h > 2) ? a[2] : null, g = (h > 3) ? a[3] : "/", d = (h > 4) ? a[4] : null, f = (h > 5) ? a[5] : false;
        document.cookie = c + "=" + escape(e) + ((b === null) ? "" : ("; expires=" + b.toGMTString())) + ((g === null) ? "" : ("; path=" + g)) + ((d === null) ? "" : ("; domain=" + d)) + ((f === true) ? "; secure" : "")
    }, get         : function(d) {
        var b = d + "=", f = b.length, a = document.cookie.length, e = 0, c = 0;
        while (e < a) {
            c = e + f;
            if (document.cookie.substring(e, c) == b) {
                return this.getCookieVal(c)
            }
            e = document.cookie.indexOf(" ", e) + 1;
            if (e === 0) {
                break
            }
        }
        return null
    }, clear       : function(a, b) {
        if (this.get(a)) {
            b               = b || "/";
            document.cookie = a + "=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=" + b
        }
    }, getCookieVal: function(b) {
        var a = document.cookie.indexOf(";", b);
        if (a == -1) {
            a = document.cookie.length
        }
        return unescape(document.cookie.substring(b, a))
    }
});
Ext.namespace("am.login");
am.login.challenge = null;
Ext.require(["Ext.Ajax", "Ext.window.MessageBox", "Ext.dom.Layer", "Ext.Shadow", "Ext.FocusManager", "Ext.layout.Context"], function() {
    Ext.Ajax.request({
        url       : "../data/apollomin/authenticate.php", timeout: 6000, success: function(a) {
            am.login.challenge = a.responseText
        }, failure: function() {
            am.login.challenge = "failed";
            Ext.Msg.alert("Fehler", "Server kann nicht erreicht werden")
        }
    })
});
Ext.require(["Ext.tip.QuickTipManager", "Ext.panel.Tool", "Ext.form.Panel", "Ext.layout.component.Body", "Ext.layout.container.Absolute", "Ext.form.Label", "Ext.Viewport", "Ext.util.Cookies", "Ext.button.Button"], function() {
    Ext.onReady(function() {
        Ext.tip.QuickTipManager.init();
        var a = null;
        a     = new Ext.Viewport({
            submitResponse: function() {
                if (am.login.challenge) {
                    a.down("form").getForm().submit({
                        method    : "POST", waitTitle: "Connecting", waitMsg: "Sending data...", params: {response: hex_md5(Ext.getCmp('password').getValue())}, success: function() {
                            Ext.util.Cookies.set("username", Ext.getCmp("username").getValue());
                            window.location = "index"
                        }, failure: function(b, c) {
                            if (c.failureType == "server") {
                                Ext.MessageBox.show({title: "Fehler", msg: c.result.message, buttons: Ext.Msg.OK, icon: Ext.MessageBox.ERROR})
                            } else {
                                Ext.Msg.alert("Fehler", "Server kann nicht erreicht werden")
                            }
                            a.down("form").getForm().reset()
                        }
                    })
                } else {
                    window.setTimeout(function() {
                        a.submitResponse()
                    }, 500)
                }
            }, style      : "background-color: transparent;", renderTo: Ext.getBody(), items: [{
                xtype          : "panel", border: false, bodyBorder: false, bodyStyle: "background-image:url('resources/loginscreen.jpg');", style: "margin:0 auto;margin-top:100px;", width: 400, height: 400, items: [{
                    xtype          : "form", url: "../data/apollomin/authenticate.php", timeout: 7, border: false, bodyStyle: "background-color: transparent; border-style:none;", height: 316, width: 318, layout: {type: "absolute"}, listeners: {
                        afterrender: function() {
                            var b = Ext.util.Cookies.get("username");
                            if (!b) {
                                Ext.getCmp("username").focus(true, 200)
                            } else {
                                Ext.getCmp("username").setValue(b);
                                Ext.getCmp("password").focus(true, 200)
                            }
                        }
                    }, items       : [{xtype: "label", style: "position: absolute !important;", text: "Benutzername:", x: 116, y: 188}, {
                        xtype: "textfield", style: "position: absolute !important;", name: "username", id: "username", hideLabel: true, height: 26, width: 186, x: 112, y: 206, listeners: {
                            specialkey: function(c, b) {
                                if (b.getKey() === b.ENTER) {
                                    a.submitResponse()
                                }
                            }
                        }
                    }, {xtype: "label", style: "position: absolute !important;", text: "Passwort:", x: 116, y: 236}, {
                        xtype: "textfield", style: "position: absolute !important;", name: "password", id: "password", hideLabel: true, inputType: "password", submitValue: false, height: 26, width: 186, x: 112, y: 254, listeners: {
                            specialkey: function(c, b) {
                                if (b.getKey() === b.ENTER) {
                                    a.submitResponse()
                                }
                            }
                        }
                    }], dockedItems: [{
                        xtype: "toolbar", dock: "bottom", style: "background-color: transparent;", items: [{xtype: "component", flex: 1}, {
                            text: "login", width: 80, handler: function() {
                                a.submitResponse()
                            }
                        }]
                    }], keys       : [{
                        key: [Ext.EventObject.ENTER], handler: function() {
                            a.submitResponse()
                        }
                    }]
                }], dockedItems: [{dock: "bottom", xtype: "component", html: '<p>version 2 | <a href="http://www.apollographic.ch">&copy;2017 ApolloGraphic</a></p>'}]
            }]
        })
    })
});